generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Article {
  id         Int       @id(map: "PK_40808690eb7b915046558c0f81b") @default(autoincrement())
  canvasName String    @db.VarChar
  imageUrl   String    @db.VarChar
  createdAt  DateTime  @default(now()) @db.Timestamptz(6)
  authorId   Int?
  user       User?     @relation(fields: [authorId], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_a9c5f4ec6cceb1604b4a3c84c87")
  likedBy    LikedBy[]

  @@map("article")
}

model LikedBy {
  id        Int     @id(map: "PK_e97aaf39c77ee0533ce01ea15ca") @default(autoincrement())
  userId    Int
  articleId Int
  article   Article @relation(fields: [articleId], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_ba5875a744cbec464c384d3f72a")
  user      User    @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: NoAction, map: "FK_edebe483970d1b27bc7b2229960")

  @@map("liked_by")
}

model User {
  id         Int       @id(map: "PK_cace4a159ff9f2512dd42373760") @default(autoincrement())
  provider   String    @db.VarChar
  providerId String    @db.VarChar
  name       String    @db.VarChar
  email      String    @db.VarChar
  photo      String    @db.VarChar
  article    Article[]
  likedBy    LikedBy[]

  @@map("user")
}
